(self.webpackChunk=self.webpackChunk||[]).push([[524],{44:(e,t,n)=>{const a=n(377),{lightningChart:o,AxisTickStrategies:i,ColorRGBA:r,PointShape:s,PalettedFill:l,LUT:d,UIElementBuilders:c,emptyFill:p,emptyLine:u,UIOrigins:g,MapTypes:h,transparentFill:m,regularColorSteps:x,LegendPosition:y,Themes:b}=a;Date.prototype.formatDate=function(){return this.toISOString().split("T")[0]},Date.prototype.addDays=function(e){const t=new Date(this.valueOf());return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e).formatDate()};const f=document.getElementById("chart-container")||document.body,k=o({resourcesBaseUrl:new URL(document.head.baseURI).origin+new URL(document.head.baseURI).pathname+"resources/"}),w=document.createElement("div");f.append(w);const S=document.createElement("div");f.append(S);let v=!0;const T=document.createElement("div"),D=document.createElement("input"),F=document.createElement("span");T.appendChild(F),T.appendChild(D);let C=new Date("January 10, 2022").formatDate();const E=k.Map({theme:b[new URLSearchParams(window.location.search).get("theme")||"darkGold"]||void 0,type:h.World,container:w}).setTitle("").setPadding({top:30,bottom:0,right:0,left:0}),U=new l({lut:new d({steps:x(0,100,E.getTheme().examples.badGoodColorPalette,{alpha:150,formatLabels:e=>`${e.toFixed(0)} %`})})}),R=k.ChartXY({container:S,legend:{position:y.RightCenter,backgroundVisible:!0}}).setUserInteractions(void 0).setTitle("Loading example data ...").setBackgroundFillStyle(m).setSeriesBackgroundFillStyle(m).setSeriesBackgroundStrokeStyle(u).setCursor(e=>e.setTickMarkerXVisible(!1).setTickMarkerYVisible(!1));R.engine.setBackgroundFillStyle(m),R.getDefaultAxes().forEach(e=>e.setTickStrategy(i.Empty).setStrokeStyle(u)),E.addEventListener("viewchange",e=>{const{latitudeRange:t,longitudeRange:n,margin:a}=e;R.getDefaultAxisX().setInterval({start:n.start,end:n.end}),R.getDefaultAxisY().setInterval({start:t.start,end:t.end}),R.setPadding(0)});const I=R.addUIElement(c.TextBox).setOrigin(g.LeftTop).setPosition({x:0,y:100}).setMargin(10).setText("").setTextFont(e=>e.setSize(15)).setBackground(e=>e.setFillStyle(p).setStrokeStyle(u)),L=R.addPointSeries({schema:{x:{pattern:null},y:{pattern:null},lookupValue:{pattern:null},size:{pattern:null},id:{pattern:null}}}).setPointerEvents(!1).setName("Vaccination coverage").setPointFillStyle(U).setEffect(!1);function P(e,t){const n=new Date(2021,0,D.value);let a=n.formatDate();e.clear();let o=0;const i=t.samples.find(e=>e.date===a);i.values.forEach((n,a)=>{o+=n,function(e,t,n,a){t.appendSample({x:e.pos[1],y:e.pos[0],lookupValue:n,size:Math.max(3,n/2),id:a})}(t.countries[a],e,n,a)}),R.setCursorFormatting((e,n)=>{const a=t.countries[n.sample.id];return[[{component:n.series,rowFillStyle:R.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[a.name],["Vaccinated once:"],[`${n.lookupValue.toFixed(2)}% of population`]]}),R.setTitle(n.toLocaleDateString("FIN")),I.setText(`Population who received at least one vaccine ${(o/i.values.length).toFixed(2)}%`),C>a&&v?(D.value++,setTimeout(()=>P(L,t),1e3/24)):B()}function B(){v=!1,F.textContent="Stopped",F.style.background=V}fetch(new URL(document.head.baseURI).origin+new URL(document.head.baseURI).pathname+"examples/assets/1103/data.json").then(e=>e.json()).then(e=>{P(L,e),D.oninput=()=>{B(),P(L,e)},F.onclick=()=>{v?B():(v=!0,F.textContent="Started",F.style.background=M,D.value==D.max&&(D.value=0),P(L,e))}}).catch(e=>{console.log(e)}),w.style.width="100%",w.style.height="100%",w.style.position="absolute",w.style.left="0px",w.style.top="0px",E.engine.layout(),S.style.width="100%",S.style.height="100%",S.style.position="absolute",S.style.left="0px",S.style.top="0px",R.engine.layout(),T.id="block",D.type="range",D.min=0,D.max=Math.ceil((new Date("January 11, 2022")-new Date(2021,0,1))/864e5),D.value=D.min,D.id="slider",F.id="marker",F.textContent="Started";const M="rgb(0, 0, 200, 0.6)",V="rgb(200, 0, 0)";R.engine.container.append(T),function(){const e=document.createElement("style");e.textContent='\n\n  * {\n    box-sizing: border-box;\n  }\n  \n  #block{\n    width: 50%;\n    height: 60px;\n\t\ttop: 90%;\n    right: 60px;\n    position: absolute;\n    display: flex;\n    justify-content: space-evenly;\n    padding: 30px 10px;\n    z-index: 1;\n    box-sizing: border-box\n  }\n\n  #slider{\n    -webkit-appearance: none;\n    margin: 0;\n    padding: 0;\n    width: 85%;\n    height: 5px;\n    position: relative;\n    cursor: pointer;\n    border-radius: 10px;\n    border: solid 1px; \n    background: linear-gradient(to right, #fff 0%, white 100%)\n  }\n  \n  #slider::-webkit-slider-thumb{\n    -webkit-appearance: none;\n    height: 20px;\n    width: 20px;\n    padding: 0;\n    background-color: lightgray;\n    cursor: pointer;\n    border-radius: 50%;\n    border: solid 1px gray\n  }\n\n  #marker {\n    background: rgb(0, 0, 200, 0.6);\n    color: white;\n    height: 30px;\n    width: 55px;\n    top: -13px;\n    position: relative;\n    border-radius: 4px;\n    text-align:center; \n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n  }\n  #marker::after {\n    content: "";\n    text-align: center;\n    position: absolute;\n    left: 100%;\n    border-bottom: 5px solid transparent;\n    border-top: 5px solid transparent;\n    border-left: 5px solid gray;\n  }\n\n  #marker:active {\n    transform: scale(0.9);\n  }\n\n',document.head.append(e)}()}},e=>{e.O(0,[502],()=>e(e.s=44)),e.O()}]);